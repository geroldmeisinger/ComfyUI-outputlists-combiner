## XYZ-GridPlot

![XYZ-GridPlot](XyzGridPlot/XyzGridPlot.png)

(包含 ComfyUI workflow)

从图像列表生成 XYZ-Gridplot。
它接受一个图像列表（包括批次），并首先将它们展平为一个长列表（因此 `batch_size=1`）。

**网格形状**
通过以下方式确定网格的形状：
1. 行标签的数量
2. 列标签的数量
3. 剩余的子图像数量。
您可以使用 `order=inside_out` 来反转图像选择（当 `batch_size>1` 且您希望标记批次时很有用）。

**对齐方式**
* 如果标签被换行到下一行，则整个轴被视为“多行”，并以顶部对齐并使用两端对齐的间距。
* 如果所有标签都是数字或都以数字结尾（例如 `strength: 1.`），则整个轴被视为“数字”，并右对齐。
* 所有其他文本被视为“单行”，并居中对齐。
* 列的单行和数字标签在底部对齐，行的标签则在中间垂直对齐。

**字体大小**
* 列标签区域的高度由 `font_size` 或“任意行中子图像打包的最大高度的一半”（以较大者为准）决定。
* 行标签区域的宽度由子图像打包的最宽宽度决定（最小为 256px）。
* 文本会逐渐缩小直到适合（最小到 `font_size_min=6`），并且整个轴（行标签或列标签）使用相同的字体大小。
如果字体大小已达到最小值，则截断剩余文本。

**子图像打包**
将子图像（通常来自批次）塑造成最接近正方形的区域（“子图像打包”），除非 `output_is_list=True`，在这种情况下每个单元格只使用一张图像并创建一个完整的图像网格列表。
您可以使用这个图像网格列表连接另一个 XyzGridPlot 节点来创建超网格。
如果子图像由不同大小的批次组成，则用空图像填充缺失的单元格。
每个单元格中的图像数量（包括批次图像）必须是 `rows * columns` 的倍数。

### 输入

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| `images` | `IMAGE` | 图像列表（包括批次） |
| `row_labels` | `*` | 左侧的行标签文本 |
| `col_labels` | `*` | 顶部的列标签文本 |
| `gap` | `INT` | 子图像打包之间的间距。请注意，子图像内部不使用间距。如果您希望子图像之间有间距，请连接另一个 XyzGridPlot 节点。 |
| `font_size` | `FLOAT` | 目标字体大小。文本会逐渐缩小直到适合（最小到 `font_size_min=6`）。 |
| `row_label_orientation` | `COMBO` | 行标签的文本方向。如果您希望节省空间时很有用。 |
| `order` | `BOOLEAN` | 定义图像处理顺序。仅在您有子图像时相关。如果您有 `batch_size>1` 并且希望绘制批次时很有用。 |
| `output_is_list` | `BOOLEAN` | 仅在您有子图像或希望创建超网格时相关。 |

### 输出

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| `image` | `IMAGE 𝌠` | XYZ-GridPlot 图像。如果 `output_is_list=True`，则创建一个图像列表，您可以将其连接到另一个 XYZ-GridPlot 节点以创建超网格。 |

