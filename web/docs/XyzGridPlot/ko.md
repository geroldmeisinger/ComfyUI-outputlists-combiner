## XYZ-GridPlot

![XYZ-GridPlot](XyzGridPlot/XyzGridPlot.png)

(ComfyUI workflow 포함)

이미지 목록에서 XYZ-Gridplot을 생성합니다.
이 노드는 이미지 목록(배치 포함)을 받아 먼저 긴 목록으로 평탄화합니다 (따라서 `batch_size=1`).

**그리드 모양**
그리드 모양을 다음과 같이 결정합니다:
1. 행 레이블의 수
2. 열 레이블의 수
3. 남은 하위 이미지들.
`order=inside_out`을 사용하여 이미지 선택 순서를 반전시킬 수 있습니다 (배치 크기가 `batch_size>1`일 때 유용하며 배치를 레이블링하고 싶을 때 사용).

**정렬**
* 레이블이 다음 줄로 줄바꿈되면 전체 축이 "다중 행"으로 간주되고 상단에 정렬되며, 정렬 간격은 균등하게 배치됩니다.
* 모든 레이블이 숫자이거나 모두 숫자로 끝나는 경우 (예: `strength: 1.`) 전체 축이 "숫자형"으로 간주되고 오른쪽 정렬됩니다.
* 다른 모든 텍스트는 "단일 행"으로 간주되며 중앙 정렬됩니다.
* 단일 행 및 숫자형 레이블은 열에 대해 하단에 정렬되고, 행에 대해서는 중앙에 수직 정렬됩니다.

**폰트 크기**
* 열 레이블 영역의 높이는 `font_size` 또는 "모든 행에서 가장 큰 하위 이미지 패킹 높이의 절반" 중 더 큰 값으로 결정됩니다.
* 행 레이블 영역의 너비는 하위 이미지 패킹의 가장 넓은 너비로 결정되며 최소 256px입니다.
* 텍스트는 맞는 위치까지 축소되며 최소 `font_size_min=6`까지 축소됩니다. 전체 축(행 레이블 또는 열 레이블)에 대해 동일한 폰트 크기를 사용합니다.
폰트 크기가 이미 최소값이라면 남은 텍스트는 잘립니다.

**하위 이미지 패킹**
하위 이미지(일반적으로 배치에서 온 이미지)들을 가장 정사각형 형태의 영역("하위 이미지 패킹")으로 모양을 만듭니다. `output_is_list=True`인 경우 각 셀에 하나의 이미지만 사용하고 전체 이미지 그리드 목록을 생성합니다.
이 이미지 그리드 목록은 다른 XyzGridPlot 노드에 연결하여 슈퍼-그리드를 생성하는 데 사용할 수 있습니다.
배치 크기가 다른 배치로 구성된 하위 이미지가 있는 경우, 빈 이미지로 빈 셀을 채웁니다.
셀당 이미지 수(배치된 이미지 포함)는 `rows * columns`의 배수여야 합니다.

### 입력

| 이름 | 타입 | 설명 |
| --- | --- | --- |
| `images` | `IMAGE` | 이미지 목록(배치 포함) |
| `row_labels` | `*` | 왼쪽에 있는 행 레이블 텍스트 |
| `col_labels` | `*` | 위쪽에 있는 열 레이블 텍스트 |
| `gap` | `INT` | 하위 이미지 패킹 간격. 하위 이미지 자체는 간격 없이 사용됩니다. 하위 이미지 간격을 원하면 다른 XyzGridPlot 노드를 연결하세요. |
| `font_size` | `FLOAT` | 목표 폰트 크기. 텍스트는 맞는 위치까지 축소됩니다 (최소 `font_size_min=6`까지). |
| `row_label_orientation` | `COMBO` | 행 레이블의 텍스트 방향. 공간을 절약하고 싶을 때 유용합니다. |
| `order` | `BOOLEAN` | 이미지 처리 순서를 정의합니다. 하위 이미지가 있는 경우에만 관련됩니다. `batch_size>1`일 때 배치를 플롯하고 싶을 때 유용합니다. |
| `output_is_list` | `BOOLEAN` | 하위 이미지 또는 슈퍼-그리드를 생성하려는 경우에만 관련됩니다. |

### 출력

| 이름 | 타입 | 설명 |
| --- | --- | --- |
| `image` | `IMAGE 𝌠` | XYZ-GridPlot 이미지. `output_is_list=True`인 경우 슈퍼-그리드를 생성하기 위해 다른 XYZ-GridPlot 노드에 연결할 수 있는 이미지 목록을 생성합니다. |

